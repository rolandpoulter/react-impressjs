{"version":3,"sources":["../src/components/Impress.js"],"names":["html","document","documentElement","body","_lastHash","_stepsData","_activeStep","_idHelper","Impress","props","rootData","hint","hintMessage","fallbackMessage","progress","rootStyles","position","top","left","transformOrigin","transition","transformStyle","defaultData","x","y","z","rotateX","rotateY","rotateZ","scale","state","windowScale","config","impressSupported","activeStep","data","cameraStyles","startX","deltaX","init","goto","disableEvents","onKeyUp","e","keyCode","end","home","prev","next","addEventListener","onResize","window","onHashChange","location","hash","gotoElementFromHash","object","name","nextPorps","setState","removeEventListener","defaults","width","height","maxScale","minScale","perspective","transitionDuration","classList","dataset","overflow","$set","$merge","onInit","call","step","duration","skipCallbacks","onBeforeGoTo","Promise","reject","catch","console","warn","scrollTo","target","zoomin","delay","id","targetScale","transform","transitionDelay","onGoTo","resolve","setTimeout","progressDivision","stepsDataKeys","Object","keys","findIndex","k","length","stepsDataEntries","entries","firstStep","lastStep","touches","clientX","preventDefault","index","React","cloneElement","key","idHelper","initStep","bind","onPickStep","children","progressGroups","skipSteps","steps","Children","map","stepComponent","stepsTotal","count","handleTouchStart","handleTouchMove","handleTouchEnd","style","className","Component","propTypes","PropTypes","bool","oneOfType","string","func","number","array","defaultProps"],"mappings":"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","file":"Impress.js","sourcesContent":["import React, {Component} from 'react';\nimport update             from 'react/lib/update';\nimport PropTypes          from 'prop-types';\nimport {\n  computeWindowScale,\n  css,\n  getElementFromHash,\n  perspective,\n  pfx,\n  rotate,\n  scale,\n  throttle,\n  toNumber,\n  translate,\n}                         from './util';\n\nimport Progress from './Progress';\nimport Hint     from './Hint';\n\nconst html = document.documentElement,\n      body = document.body;\n\nlet _lastHash  = '',\n    _stepsData = {},\n    _activeStep,\n    _idHelper  = 1;\n\nexport default class Impress extends Component {\n  constructor(props) {\n    super(props);\n\n    const {\n      rootData,\n      hint,\n      hintMessage,\n      fallbackMessage,\n      progress\n    } = props;\n\n    const rootStyles = {\n      position: 'absolute',\n      top: '50%',\n      left: '50%',\n      transformOrigin: 'top left',\n      transition: 'all 0s ease-in-out',\n      transformStyle: 'preserve-3d',\n    };\n    const defaultData = {\n      x: 0, y: 0, z: 0,\n      rotateX: 0, rotateY: 0, rotateZ: 0,\n      scale: 1,\n    };\n\n    // <Impress /> State\n    this.state = {\n      /** Impress Config **/\n      rootStyles,\n      windowScale: null,\n      config: null,\n      impressSupported: false,\n\n      /** Step Status **/\n      activeStep: {\n        data: defaultData,\n      },\n\n      /** Camera Status **/\n      cameraStyles: rootStyles,\n\n      /** Public attributes provide to use **/\n      rootData: rootData, // (not recommended)\n      hint: hint,\n      hintMessage: hintMessage,\n      fallbackMessage: fallbackMessage,\n      progress: progress,\n\n      /** For touch event **/\n      startX: 0,\n      deltaX: 0,\n    };\n  }\n\n  componentWillMount() {\n    // Init impress\n    this.init();\n  }\n\n  componentDidMount() {\n    const {impressSupported} = this.state;\n\n    // 2017/2/28 暫時想不到好方法\n    if (impressSupported)\n      this.goto(_activeStep, 500);\n\n    // Listener for keyboard event\n    if (!this.props.disableEvents) {\n      this.onKeyUp = throttle((e) => {\n        if (e.keyCode === 9 ||\n            (e.keyCode >= 32 && e.keyCode <= 40)) {\n          switch (e.keyCode) {\n            case 35: // End\n              this.end();\n              break;\n            case 36: // Home\n              this.home();\n              break;\n            case 33: // Page up\n            case 37: // Left\n            case 38: // Up\n              this.prev();\n              break;\n            case 9:  // Tab\n            case 32: // Space\n            case 34: // Page down\n            case 39: // Right\n            case 40: // Down\n              this.next();\n              break;\n            default:\n              break;\n          }\n        }\n      }, 250);\n      document.addEventListener('keyup', this.onKeyUp, false);\n    }\n\n    // Window resize\n    this.onResize = throttle(() => {\n      if (impressSupported) {\n        this.goto(this.state.activeStep, 500, true);\n      }\n    }, 250);\n    window.addEventListener('resize', this.onResize, false);\n\n    // URL hash change\n    this.onHashChange = throttle(() => {\n      if (window.location.hash !== _lastHash)\n        this.gotoElementFromHash();\n    }, 250);\n    window.addEventListener('hashchange', this.onHashChange, false);\n  }\n\n  gotoElementFromHash() {\n    return this.goto(getElementFromHash(_stepsData), 500);\n  }\n\n  getElementFromHash(object) {\n    return getElementFromHash(object);\n  }\n\n  getStepData() {\n    return _stepsData;\n  }\n\n  getStep(name) {\n    return _stepsData[name];\n  }\n\n  componentWillReceiveProps(nextPorps) {\n    this.setState({\n      fallbackMessage: nextPorps.fallbackMessage,\n      hint: nextPorps.hint,\n      hintMessage: nextPorps.hintMessage,\n    });\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('keyup', this.onKeyUp, false);\n    window.removeEventListener('resize', this.onResize, false);\n    window.removeEventListener('keyup', this.onHashChange, false);\n  }\n\n  /**\n   * Initialize Impress.\n   */\n  init() {\n    const {rootData} = this.state;\n\n    const defaults = {\n      width: 1024,\n      height: 768,\n      maxScale: 1,\n      minScale: 0,\n      perspective: 1000,\n      transitionDuration: 1000,\n    };\n\n    // const ua = navigator.userAgent.toLowerCase()\n\n    // Check impress support or not.\n    const impressSupported =\n        // Browser should support CSS 3D transtorms\n        (pfx('perspective') !== null) &&\n        // Browser should support `classList` and `dataset` APIs\n        (body.classList) &&\n        (body.dataset);// &&\n    // But some mobile devices need to be blacklisted,\n    // because their CSS 3D support or hardware is not\n    // good enough to run impress.js properly, sorry...\n    //( ua.search( /(iphone)|(ipod)|(android)/ ) === -1 );\n\n    // Config\n    const config = {\n      width: toNumber(rootData.width, defaults.width),\n      height: toNumber(rootData.height, defaults.height),\n      maxScale: toNumber(rootData.maxScale, defaults.maxScale),\n      minScale: toNumber(rootData.minScale, defaults.minScale),\n      perspective: toNumber(rootData.perspective, defaults.perspective),\n      transitionDuration: toNumber(\n          rootData.transitionDuration, defaults.transitionDuration,\n      ),\n    };\n    // Window Scale\n    const windowScale = computeWindowScale(config);\n    // HTML height\n    css(html, {\n      height: '100vh',\n      overflow: 'hidden',\n    });\n    // Body style\n    css(body, {\n      height: '100vh',\n      overflow: 'hidden',\n\n      // mobile devise supported\n      position: 'relative',\n    });\n\n    this.setState(update(this.state, {\n      windowScale: {\n        $set: windowScale,\n      },\n      config: {\n        $set: config,\n      },\n      impressSupported: {\n        $set: impressSupported,\n      },\n      rootStyles: {\n        $merge: {\n          'transform': perspective(config.perspective / windowScale) +\n          scale(windowScale),\n        },\n      },\n    }));\n\n    if (this.props.onInit) {\n      this.props.onInit.call(this, this);\n    }\n  }\n\n  /**\n   * Initialize Steps.\n   *\n   * @param {Step} step init every Steps in Impress.\n   */\n  static initStep(step) {\n    // Set first Step as enter Step.\n    if (!_activeStep)\n      _activeStep = step;\n\n    _stepsData = update(_stepsData, {\n      $merge: {\n        [step.id]: {\n          id: step.id,\n          className: step.className,\n          data: step.data,\n          duration: step.duration,\n        },\n      },\n    });\n  }\n\n  /**\n   * Navigate to the SPECIFY Step.\n   *\n   * @param {Step} step you want to navigate to.\n   * @param {number} duration 1000 speed of navigation.\n   */\n  goto(step, duration = 1000, skipCallbacks = false) {\n    if (!skipCallbacks && this.props.onBeforeGoTo && this.props.onBeforeGoTo.call(this, this, step, duration)) {\n      return Promise.reject().catch(() => {\n        console.warn('rejected step', step);\n      });\n    }\n\n    const {config, activeStep} = this.state;\n    let {windowScale} = this.state;\n\n    window.scrollTo(0, 0);\n\n    let target = {\n      x: -step.data.x,\n      y: -step.data.y,\n      z: -step.data.z,\n      rotateX: -step.data.rotateX,\n      rotateY: -step.data.rotateY,\n      rotateZ: -step.data.rotateZ,\n      scale: 1 / step.data.scale,\n    };\n\n    // Check scale for zoom-in\n    let zoomin = target.scale >= (1 / activeStep.data.scale);\n\n    duration = toNumber(duration, config.transitionDuration);\n    let delay = (duration / 2);\n\n    if (step.id === activeStep.id)\n      windowScale = computeWindowScale(config);\n\n    const targetScale = target.scale * windowScale;\n\n    this.setState(update(this.state, {\n      activeStep: {\n        $set: step,\n      },\n      rootStyles: {\n        transform: {\n          $set: perspective(config.perspective / targetScale) +\n          scale(targetScale),\n        },\n        transitionDuration: {\n          $set: duration + 'ms',\n        },\n        transitionDelay: {\n          $set: (zoomin ? delay : 0) + 'ms',\n        },\n      },\n      cameraStyles: {\n        transform: {\n          $set: rotate(target, true) + translate(target),\n        },\n        transitionDuration: {\n          $set: duration + 'ms',\n        },\n        transitionDelay: {\n          $set: (zoomin ? 0 : delay) + 'ms',\n        },\n      },\n    }));\n\n    window.location.hash = _lastHash = '#/' + step.id;\n\n    !skipCallbacks && this.props.onGoTo\n      && this.props.onGoTo.call(this, this, step, duration);\n\n    return new Promise((resolve) => {\n      setTimeout(resolve, duration + 16);\n    });\n  }\n\n  // Navigate to the PREVIOUS Step.\n  prev() {\n    const {\n      progressDivision,\n    } = this.props;\n    const {activeStep} = this.state;\n\n    /**\n     * 2017.04.10\n     * Why we don't use Object.entries() or Object.values() any more ?\n     * Cause the browser of iOS device (Chrome, Safari...) and some of Android devise\n     * DOES'NT supported Object.entries() and Object.values() now...\n     */\n          // const stepsDataEntries = Object.entries( _stepsData );\n          // let prev = stepsDataEntries.findIndex( ([k, v]) => { return k === activeStep.id } ) - 1;\n          // prev = prev >= 0 ? stepsDataEntries[ prev ][1] : stepsDataEntries[ stepsDataEntries.length - 1 ][1];\n\n    const stepsDataKeys = Object.keys(_stepsData);\n    // get index of previous\n    let prev = stepsDataKeys.findIndex(k => k === activeStep.id) - progressDivision;\n\n    // get id via index from stepsData\n    prev = prev >= 0\n        ? stepsDataKeys[prev]\n        : stepsDataKeys[stepsDataKeys.length - progressDivision];\n\n    // get previous step\n    prev = _stepsData[prev];\n\n    return this.goto(prev, prev.duration);\n  }\n\n  // Navigate to the NEXT Step.\n  next() {\n    const {\n      progressDivision\n    } = this.props;\n    const {activeStep} = this.state;\n    const stepsDataKeys = Object.keys(_stepsData);\n    let next = stepsDataKeys.findIndex(k => k === activeStep.id) + progressDivision;\n    next = next < stepsDataKeys.length ? stepsDataKeys[next] : stepsDataKeys[0];\n    next = _stepsData[next];\n\n    return this.goto(next, next.duration);\n  }\n\n  // Navigate to the FIRST Step.\n  home() {\n    const stepsDataEntries = Object.entries(_stepsData);\n    const firstStep = stepsDataEntries[0][1];\n\n    return this.goto(firstStep, firstStep.duration);\n  }\n\n  // Navigate to the LAST Step.\n  end() {\n    const {\n      progressDivision\n    } = this.props;\n    const stepsDataEntries = Object.entries(_stepsData);\n    const lastStep = stepsDataEntries[stepsDataEntries.length - progressDivision][1];\n\n    return this.goto(lastStep, lastStep.duration);\n  }\n\n  // Touch Start( record start position: startX )\n  handleTouchStart(e) {\n    this.setState({\n      startX: e.touches[0].clientX,\n    });\n  }\n\n  // Touch Move( Calculate touch move path: deltaX )\n  handleTouchMove(e) {\n    e.preventDefault();\n    this.setState({\n      deltaX: this.state.startX - e.touches[0].clientX,\n    });\n  }\n\n  // Touch End( decide navigate previous or next Step via 'deltaX' )\n  handleTouchEnd(e) {\n    if (this.state.deltaX > 0) // slide left\n      this.next();\n    else if (this.state.deltaX < 0) // slide right\n      this.prev();\n\n    // reset\n    this.setState({\n      deltaX: 0,\n    });\n  }\n\n  /**\n   * Create <Step />\n   *\n   * @return {Step} to render children.\n   */\n  stepComponent(step, index) {\n    const {activeStep} = this.state;\n\n    return React.cloneElement(step, {\n      key: index,\n      idHelper: step.props.id ? '' : _idHelper++,\n      activeStep: activeStep,\n      initStep: Impress.initStep.bind(this),\n      goto: this.props.disableEvents\n        ? null\n        : (this.props.onPickStep\n          ? this.props.onPickStep.bind(this, this.goto.bind(this))\n          : this.goto.bind(this)),\n    }, step.props.children);\n  }\n\n  render() {\n    const {\n            impressSupported,\n            rootStyles, cameraStyles, activeStep,\n            hint, hintMessage,\n            fallbackMessage,\n            progress,\n          } = this.state;\n    const {\n      progressDivision,\n      progressGroups,\n      skipSteps,\n    } = this.props;\n    const steps = React.Children.map(this.props.children,\n        this.stepComponent.bind(this));\n    const stepsTotal = React.Children.count(this.props.children);\n\n    return (\n        <div id=\"react-impressjs\"\n           className={\n             (impressSupported\n                 ? 'impress-supported'\n                 : 'impress-not-supported') +\n             (activeStep ? ' impress-on-' + activeStep.id : '') +\n             ' impress-enabled'\n           }\n           onTouchStart={this.handleTouchStart.bind(this)}\n           onTouchMove={this.handleTouchMove.bind(this)}\n           onTouchEnd={this.handleTouchEnd.bind(this)}\n           style={this.props.style}\n        >\n\n          <div id=\"impress\" style={rootStyles}>\n            <div style={cameraStyles}>\n              {\n                impressSupported ? steps :\n                    <div className=\"fallback-message\">{fallbackMessage}</div>\n              }\n            </div>\n          </div>\n          <Hint\n              hint={hint}\n              stepsData={_stepsData}\n              activeStep={activeStep}\n              hintMessage={hintMessage}/>\n          <Progress\n              progress={progress}\n              skipSteps={skipSteps}\n              progressDivision={progressDivision}\n              progressGroups={progressGroups}\n              stepsData={_stepsData}\n              activeStep={activeStep}\n              stepsTotal={stepsTotal}/>\n        </div>\n    );\n  }\n}\n\nImpress.propTypes = {\n  /**\n   * Impress basic config\n   */\n  rootData: PropTypes.object,\n\n  /**\n   * Whether to display hint or not\n   */\n  hint: PropTypes.bool,\n\n  /**\n   * Hint for presentation\n   */\n  hintMessage: PropTypes.oneOfType([PropTypes.object, PropTypes.string]),\n\n  /**\n   * Fallback message is only visible when there is impress-not-supported\n   */\n  fallbackMessage: PropTypes.oneOfType([PropTypes.object, PropTypes.string]),\n\n  /**\n   * Progress of presentation\n   */\n  progress: PropTypes.bool,\n\n  style: PropTypes.object,\n  onInit: PropTypes.func,\n  onGoTo: PropTypes.func,\n  onBeforeGoTo: PropTypes.func,\n  onPickStep: PropTypes.func,\n  disableEvents: PropTypes.bool,\n  progressDivision: PropTypes.number,\n  progressGroups: PropTypes.array,\n  skipSteps: PropTypes.number,\n};\n\nImpress.defaultProps = {\n  style: {},\n  rootData: {},\n  hint: true,\n  hintMessage: <p>Use <b>Spacebar</b> or <b>Arrow keys</b> to navigate</p>,\n  fallbackMessage: <p>Your browser <b>doesn't support the features\n    required</b> by React-impressJS, so you are presented\n    with a simplified version of this presentation.</p>,\n  progress: false,\n  onInit: function () {},\n  onGoTo: function () {},\n  onBeforeGoTo: function () {return true;},\n  onPickStep: null,\n  disableEvents: false,\n  progressDivision: 1,\n  progressGroups: [],\n  skipSteps: 1,\n};\n"]}