{"version":3,"sources":["../src/components/util.js"],"names":["toNumber","translate","rotate","scale","perspective","computeWindowScale","css","throttle","getElementFromHash","numeric","fallback","isNaN","Number","data","x","y","z","revert","rX","rotateX","rY","rotateY","rZ","rotateZ","p","config","hScale","window","innerHeight","height","wScale","innerWidth","width","maxScale","minScale","pfx","style","document","createElement","prefixes","split","memory","prop","ucProp","charAt","toUpperCase","substr","props","join","i","undefined","el","key","hasOwnProperty","pkey","fn","delay","timer","context","args","arguments","clearTimeout","setTimeout","apply","stepsData","id","location","hash","replace"],"mappings":"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","file":"util.js","sourcesContent":["export function toNumber(numeric, fallback) {\n  return isNaN(numeric) ? (fallback || 0) : Number(numeric);\n}\n\nexport function translate(data) {\n  return ' translate3d(' + toNumber(data.x) + 'px, ' + toNumber(data.y) +\n      'px, ' + toNumber(data.z) + 'px)';\n}\n\nexport function rotate(data, revert) {\n  let rX = ' rotateX(' + toNumber(data.rotateX) + 'deg) ',\n      rY = ' rotateY(' + toNumber(data.rotateY) + 'deg) ',\n      rZ = ' rotateZ(' + toNumber(data.rotateZ) + 'deg) ';\n\n  return revert ? rZ + rY + rX : rX + rY + rZ;\n}\n\nexport function scale(data) {\n  return ' scale(' + toNumber(data, 1) + ')';\n}\n\nexport function perspective(p) {\n  return ' perspective(' + p + 'px) ';\n}\n\nexport function computeWindowScale(config) {\n  let hScale = window.innerHeight / config.height,\n      wScale = window.innerWidth / config.width,\n      scale  = hScale > wScale ? wScale : hScale;\n\n  if (config.maxScale && scale > config.maxScale) {\n    scale = config.maxScale;\n  }\n\n  if (config.minScale && scale < config.minScale) {\n    scale = config.minScale;\n  }\n\n  return scale;\n}\n\nexport const pfx = (() => {\n  let style    = document.createElement('dummy').style,\n      prefixes = 'Webkit Moz O ms Khtml'.split(' '),\n      memory   = {};\n\n  return (prop) => {\n    if (typeof memory[prop] === 'undefined') {\n      let ucProp = prop.charAt(0).toUpperCase() + prop.substr(1),\n          props  = (prop + ' ' + prefixes.join(ucProp + ' ') + ucProp).split(\n              ' ');\n\n      memory[prop] = null;\n      for (let i in props) {\n        if (style[props[i]] !== undefined) {\n          memory[prop] = props[i];\n          break;\n        }\n      }\n    }\n\n    return memory[prop];\n  };\n})();\n\nexport function css(el, props) {\n  for (let key in props) {\n    if (props.hasOwnProperty(key)) {\n      let pkey = pfx(key);\n      if (pkey !== null) {\n        el.style[pkey] = props[key];\n      }\n    }\n  }\n  return el;\n}\n\nexport function throttle(fn, delay) {\n  let timer = null;\n  return function() {\n    let context = this, args = arguments;\n    clearTimeout(timer);\n    timer = setTimeout(function() {\n      fn.apply(context, args);\n    }, delay);\n  };\n}\n\nexport function getElementFromHash(stepsData) {\n  let id = window.location.hash.replace(/^#\\/?/, '');\n  return stepsData[id];\n}\n"]}