{"version":3,"sources":["../src/components/Progress.js"],"names":["Progress","props","progress","progressDivision","skipSteps","stepsData","activeStep","color_gold","color_gray","ua","navigator","userAgent","toLowerCase","progressWidth","stepsTotal","Math","round","currentStepIndex","Object","keys","findIndex","s","id","percent","parseInt","end","begin","step","floor","final","display","color","width","Component","propTypes","PropTypes","bool","number","object","shape","string","defaultProps"],"mappings":"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","file":"Progress.js","sourcesContent":["import React, {Component} from 'react';\nimport {Line}             from 'rc-progress';\nimport PropTypes          from 'prop-types';\n\nexport default class Progress extends Component {\n  render() {\n    const {progress, progressDivision, skipSteps, stepsData, activeStep} = this.props;\n    const color_gold = 'rgba(240,240,120, 0.5)',\n          color_gray = 'rgba(120,120,140, 0.5)';\n    const ua = navigator.userAgent.toLowerCase();\n    const progressWidth = 1;\n    // const progressWidth = (ua.search(/(iphone)|(ipod)|(android)/) === -1)\n    //     ? 0.2\n    //     : 1;\n    let {stepsTotal} = this.props;\n\n    if (stepsTotal > 0) {\n      stepsTotal = Math.round(stepsTotal / progressDivision);\n    }\n\n    let currentStepIndex = (\n      Object.keys(stepsData).findIndex((s) => s === activeStep.id)\n    );\n\n    if (currentStepIndex > 0) {\n      currentStepIndex = Math.round(currentStepIndex / progressDivision);\n    }\n\n    let percent = parseInt(((currentStepIndex + 1) / stepsTotal) * 100, 10);\n    const end = (currentStepIndex + 1) === stepsTotal;\n    const begin = currentStepIndex === 0;\n\n    const step = Math.floor((currentStepIndex + skipSteps) / skipSteps);\n    const final = Math.floor((stepsTotal + skipSteps) / skipSteps);\n\n    return (\n        <div\n          id=\"react-impressjs-progress\"\n          style={{ display: progress ? 'block' : 'none' }}\n          className={`num-${currentStepIndex + 1}${end ? ' end' : begin ? ' begin' : ''}`}\n        >\n          <p className=\"ratio\" style={{ color: color_gray, width: percent + '%' }}>\n            <span>\n              {step}\n              <span>\n                <span>/</span>{final}\n              </span>\n            </span>\n          </p>\n          <div className=\"line\">\n            <div className=\"progress\" style={{ width: percent + '%' }} />\n          </div>\n          <div className=\"svg\">\n            <Line percent={percent}\n                  strokeLinecap='square'\n                  strokeWidth={progressWidth}\n                  strokeColor={color_gold}\n                  trailWidth={progressWidth}\n                  trailColor={color_gray}\n            />\n          </div>\n        </div>\n    );\n  }\n}\n\nProgress.propTypes = {\n  /**\n   * Progress of presentation\n   */\n  progress: PropTypes.bool,\n\n  progressDivision: PropTypes.number,\n\n  /**\n   * Steps data\n   */\n  stepsData: PropTypes.object,\n\n  /**\n   * Object representing current step\n   */\n  activeStep: PropTypes.shape({\n    id: PropTypes.string,\n  }),\n\n  /**\n   * Amount of steps\n   */\n  stepsTotal: PropTypes.number,\n\n  skipSteps: PropTypes.number,\n};\n\nProgress.defaultProps = {\n  progressDivision: 1,\n  skipSteps: 1,\n};\n"]}